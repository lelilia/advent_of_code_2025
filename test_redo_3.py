import pytest
from redo_day_3 import one_row


@pytest.mark.parametrize(
    "batteries, cnt_on, expected",
    (
        ("987654321111111", 2, 98),
        ("987654321111111", 12, 987654321111),
        ("811111111111119", 2, 89),
        ("811111111111119", 12, 811111111119),
        ("234234234234278", 2, 78),
        ("234234234234278", 12, 434234234278),
        ("818181911112111", 2, 92),
        ("818181911112111", 12, 888911112111),
        (
            "3322343713826221125922247222221263232222632332333222231223221432225352522227622122311323531262273513",
            2,
            97,
        ),
        (
            "3322343713826221125922247222221263232222632332333222231223221432225352522227622122311323531262273513",
            12,
            977662273513,
        ),
    ),
)
def test_par(batteries, cnt_on, expected):
    assert (
        res := one_row(batteries, cnt_on)
    ) == expected, f"Expected {expected}, got {res} for {batteries}"
